<!-- header -->
{{> header }}    
{{> sidebar }}
<div id="principal">
    <h1>Crear entradas</h1>
    <p>
        Anade una nuevas entradas al blog, para que los usuarios puedan 
        leerlas y disfutar del contenido
    </p><br />

    {{#if errorsEntries }}
        {{#if errorsEntries.general }}
            <div class="alerta alerta-error">{{ errorsEntries.general }}</div>
        {{/if}}
    {{/if}}


    <form action="/save-entries" method="POST">
        
        <label for="titulo">Titulo:</label>
        <input type="text" name="titulo" id="titulo" required maxlength="25" pattern="^[\w\s]{1,25}$" />
        {{#if errorsEntries }}
            {{#if errorsEntries.titulo }}
                <div class="alerta alerta-error">{{ errorsEntries.titulo }}</div>
            {{/if}}
        {{/if}}

        <label for="descripcion">Descripcion:</label>
        <textarea name="descripcion" id="descipcion" required maxlength="1000"></textarea>
        {{#if errorsEntries }}
            {{#if errorsEntries.descripcion }}
                <div class="alerta alerta-error">{{ errorsEntries.descripcion }}</div>
            {{/if}}
        {{/if}}

        <label for="categoria">Categoria</label>
        <select name="categoria">

            <option value="">Seleccione</option>
            {{#if categories }}
                {{#each categories as | category | }}
                    <option value="{{ category.id }}">{{ category.nombre }}</option>
                {{/each}}
            {{/if }}

        </select>
        {{#if errorsEntries }}
            {{#if errorsEntries.categoria }}
                <div class="alerta alerta-error">{{ errorsEntries.categoria }}</div>
            {{/if}}
        {{/if}}

        <input type="submit" value="Guardar" disabled />
    </form>
    <!-- entry-validator -->
    <script src="js/entry-validator.js"></script>
</div>
{{> footer }}